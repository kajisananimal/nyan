<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­ | ç›¸æ€§è¨ºæ–­</title>
  <meta name="description" content="è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã‚’è¡¨ã™ã€Œ12ã‚¿ã‚¤ãƒ—å‹•ç‰©ã‚­ãƒ£ãƒ©ã€ãŒã‚ã‹ã‚‹è¨ºæ–­ã€‚æ€§æ ¼ãƒ»ä»•äº‹ãƒ»æ‹æ„›ã®å‚¾å‘ã«åŠ ãˆã¦ã€ç›¸æ€§è¨ºæ–­ã‚„çµæœã‚«ãƒ¼ãƒ‰ã®ä¿å­˜ã‚‚ã§ãã¾ã™ã€‚">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;900&family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" type="image/png" href="assets/favicon-32.png">
  <link rel="apple-touch-icon" href="assets/icon-192.png">
  <meta property="og:title" content="ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­ | ç›¸æ€§è¨ºæ–­">
  <meta property="og:description" content="è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã‚’è¡¨ã™ã€Œ12ã‚¿ã‚¤ãƒ—å‹•ç‰©ã‚­ãƒ£ãƒ©ã€ãŒã‚ã‹ã‚‹è¨ºæ–­ã€‚æ€§æ ¼ãƒ»ä»•äº‹ãƒ»æ‹æ„›ã®å‚¾å‘ã«åŠ ãˆã¦ã€ç›¸æ€§è¨ºæ–­ã‚„çµæœã‚«ãƒ¼ãƒ‰ã®ä¿å­˜ã‚‚ã§ãã¾ã™ã€‚">
  <meta property="og:image" content="assets/ogp.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­ | ç›¸æ€§è¨ºæ–­">
  <meta name="twitter:description" content="è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã‚’è¡¨ã™ã€Œ12ã‚¿ã‚¤ãƒ—å‹•ç‰©ã‚­ãƒ£ãƒ©ã€ãŒã‚ã‹ã‚‹è¨ºæ–­ã€‚æ€§æ ¼ãƒ»ä»•äº‹ãƒ»æ‹æ„›ã®å‚¾å‘ã«åŠ ãˆã¦ã€ç›¸æ€§è¨ºæ–­ã‚„çµæœã‚«ãƒ¼ãƒ‰ã®ä¿å­˜ã‚‚ã§ãã¾ã™ã€‚">
  <meta name="twitter:image" content="assets/ogp.png">
  <script type="application/ld+json">{"@context": "https://schema.org", "@type": "WebSite", "name": "ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­", "description": "è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã‚’è¡¨ã™ã€Œ12ã‚¿ã‚¤ãƒ—å‹•ç‰©ã‚­ãƒ£ãƒ©ã€ãŒã‚ã‹ã‚‹è¨ºæ–­ã€‚æ€§æ ¼ãƒ»ä»•äº‹ãƒ»æ‹æ„›ã®å‚¾å‘ã«åŠ ãˆã¦ã€ç›¸æ€§è¨ºæ–­ã‚„çµæœã‚«ãƒ¼ãƒ‰ã®ä¿å­˜ã‚‚ã§ãã¾ã™ã€‚", "inLanguage": "ja", "url": "./"}</script>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="badge">ç›¸</div>
        <div>
          <h1>ç›¸æ€§ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­</h1>
          <div class="subtitle">2äººã®ã‚¿ã‚¤ãƒ—ã‚’é¸ã¶ã ã‘</div>
        </div>
      </div>
      <nav class="nav">
        <a href="index.html">ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­</a>
        <a href="compatibility.html">ç›¸æ€§</a>
      </nav>
    </header>

    <section class="card">
      <div class="compat-grid">
        <div>
          <h2 style="margin:0 0 10px;">ã‚ãªãŸ</h2>
          <select id="me"></select>
          <div class="result-wrap" style="margin-top:12px;">
            <img id="meImg" src="" alt="ã‚ãªãŸã®ç”»åƒ" />
            <div>
              <div class="type-pill" id="meLabel"></div>
              <div class="small" id="meCatch"></div>
            </div>
          </div>
        </div>

        <div>
          <h2 style="margin:0 0 10px;">ç›¸æ‰‹</h2>
          <select id="you"></select>
          <div class="result-wrap" style="margin-top:12px;">
            <img id="youImg" src="" alt="ç›¸æ‰‹ã®ç”»åƒ" />
            <div>
              <div class="type-pill" id="youLabel"></div>
              <div class="small" id="youCatch"></div>
            </div>
          </div>
        </div>
      </div>

      <hr class="sep" />

      <div class="card" style="padding:14px;">
        <h2 style="margin:0 0 8px;">ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­çµæœ</h2>
        <div style="display:flex; gap:12px; flex-wrap:wrap; align-items:center;">
          <div class="type-pill" id="grade"></div>
          <div class="small" id="msg"></div>
        </div>
        <div class="actions" style="margin-top:12px;">
          <button class="primary" id="btnCopy">ç›¸æ€§URLã‚’ã‚³ãƒ”ãƒ¼</button>
          <a class="btn secondary" id="btnShare" target="_blank" rel="noopener">Xã§ã‚·ã‚§ã‚¢</a>
          <a class="btn ghost" href="index.html">ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­ã¸æˆ»ã‚‹</a>
        </div>
        <div class="footer" id="urlLine"></div>
      </div>
    </section>
  </div>

<script src="app.js"></script>
<script>
  const selMe = document.getElementById("me");
  const selYou = document.getElementById("you");

  function addOptions(sel){
    sel.innerHTML = "";
    Object.entries(TYPES).forEach(([key, t])=>{
      const o = document.createElement("option");
      o.value = key;
      o.textContent = t.label;
      sel.appendChild(o);
    });
  }
  addOptions(selMe); addOptions(selYou);

  const q = parseQuery();
  if (q.me && TYPES[q.me]) selMe.value = q.me;
  if (q.you && TYPES[q.you]) selYou.value = q.you;

  function render(){
    const me = TYPES[selMe.value];
    const you = TYPES[selYou.value];

    document.getElementById("meImg").src = me.img;
    document.getElementById("meLabel").textContent = me.label;
    document.getElementById("meCatch").textContent = me.catch;

    document.getElementById("youImg").src = you.img;
    document.getElementById("youLabel").textContent = you.label;
    document.getElementById("youCatch").textContent = you.catch;

    const r = prettyCompatibility(me.key, you.key);
    document.getElementById("grade").textContent = `ç›¸æ€§ ${r.grade}`;
    document.getElementById("msg").textContent = r.msg;

    const url = `${baseUrl()}/compatibility.html?me=${encodeURIComponent(me.key)}&you=${encodeURIComponent(you.key)}`;
    document.getElementById("urlLine").textContent = url;

    document.getElementById("btnCopy").onclick = async ()=>{
      await copyText(url);
      document.getElementById("btnCopy").textContent = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼";
      setTimeout(()=>document.getElementById("btnCopy").textContent="ç›¸æ€§URLã‚’ã‚³ãƒ”ãƒ¼", 1200);
    };

    const shareText = `ç›¸æ€§ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­ï¼š${me.label} Ã— ${you.label}\nçµæœï¼š${r.grade}ï¼ˆ${r.msg}ï¼‰\nğŸ‘‡ã©ã†ã¶ã¤12ã‚¿ã‚¤ãƒ—è¨ºæ–­ã¯ã“ã¡ã‚‰`;
    document.getElementById("btnShare").href =
      `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(baseUrl()+"/index.html")}`;

    // update url without reload
    const newUrl = `?me=${encodeURIComponent(me.key)}&you=${encodeURIComponent(you.key)}`;
    history.replaceState(null, "", newUrl);
  }

  selMe.addEventListener("change", render);
  selYou.addEventListener("change", render);
  render();
</script>
</body>
</html>
